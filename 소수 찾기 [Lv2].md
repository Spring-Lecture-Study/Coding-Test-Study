# 소수 찾기 [Lv2]

### 🌐 문제 링크:

https://school.programmers.co.kr/learn/courses/30/lessons/42839

# 💻 문제 설명

- 
    
    ### **문제 설명**
    
    한자리 숫자가 적힌 종이 조각이 흩어져있습니다. 흩어진 종이 조각을 붙여 소수를 몇 개 만들 수 있는지 알아내려 합니다.
    
    각 종이 조각에 적힌 숫자가 적힌 문자열 numbers가 주어졌을 때, 종이 조각으로 만들 수 있는 소수가 몇 개인지 return 하도록 solution 함수를 완성해주세요.
    
    ### 제한사항
    
    - numbers는 길이 1 이상 7 이하인 문자열입니다.
    - numbers는 0~9까지 숫자만으로 이루어져 있습니다.
    - "013"은 0, 1, 3 숫자가 적힌 종이 조각이 흩어져있다는 의미입니다.

# **💡 풀이 과정**

- 문제 접근
    
    **소수는 1을 제외하고  1과 자기 자신만을 약수로 갖는 수를 의미한다.**
    
    흩어진 종이 조각의 모든 순열을 구하는 방법과 주어진 값이 소수인지 확인하는 방법을 생각해야 한다.
    
    - **순열과 조합의 차이**
        
        ## **순열과 조합의 차이**
        
        ### **순열 (Permutation)**
        
        순서를 고려하여 특정 개수만큼 **선택하여 나열**하는 경우의 수.
        
        - 선택한 요소들의 나열 순서가 다르면 다른 경우로 간주됩니다.
        - 예를 들어, [”A”, “B”, “C”]에서 2개를 선택하면:
            - “AB”와 “BA”는 다른 경우입니다.
        - Python에서는 itertools.permutations 를 활용하여 구현 가능
        
        ## **조합 (Combination)**
        
        순서를 고려하지 않고 특정 개수만큼 **선택**하는 경우의 수.
        
        - 선택한 요소들의 나열 순서가 달라도 같은 경우로 간주됩니다.
        - 예를 들어, [”A”, “B”, “C”]에서 2개를 선택하면:
            - “AB”와 “BA”는 같은 경우입니다.
        - Python에서는 itertools.combinations 를 활용하여 구현 가능
    
    **순열**
    
    문제에서 같은 숫자들을 활용한 값이여도 순서만 다르면 다른값으로 인식하기 때문에, 길이가 1부터 문자열의 길이까지의 모든 순열을 구하고, 그 순열 안에서 소수값을 찾으면 개수를 카운트하여 모든 순열을 탐색했을 떄 소수 개수를 반환한다.
    
    순열에서 얻은 값이 소수인지 찾는 방법은 값을 2부터 9까지 나눴을 때 나누어지면 체크 값을 False로 설정, 나누어지지 않으면 True로 설정하여 소수 값을 찾아내는 방법을 생각했다.
    
    이 방법을 생각했던 이유는 소수 값이 십의 자리라고만 생각하고 1을 제외한 2~9까지의 값을 나눴을 때 나머지 값이 0이면 소수라고 생각했기 때문이다.
    
    하지만 2도 소수에 포함되고, 조합에서 일의 자리 숫자도 주어지기 때문에 2~9로 나누었을 때 나머지 값이 0이 나오기 때문에 잘못된 방법이다.
    

그래서 방법이 잘 떠오르지 않아 구글링을 통해 해결 방법을 보게 되었다.

▶️ https://dev-note-97.tistory.com/99

1. 종이 조각으로 만들 수 있는 모든 순열을 구하기 위해 문자열 numbers를 **각 숫자를 떼어 리스트 요소로 저장합니다.**
    - "17" -> ["1", "7"]
2. 분리된 숫자들을 **permutations()**를 이용해 **순열 조합**해줍니다.
    - ["1", "7"] -> ("1",), ("7",), ("1","7"), ("7", "1")
3. 해당 숫자들을 **"".join**을 이용해 **각각 하나의 숫자로** 만들어줍니다.
    - ("1",), ("7",), ("1","7"), ("7", "1") -> [1, 7, 17, 71]
4. **각 숫자에 대하여 소수인지 판별**합니다.
    - 17은 소수인가? **17의 제곱근까지** 나눠보며 어떤 수에도 나누어 떨어지지 않으면 소수이다.
    - 17 -> [1, 2, 3,... 17^0.5]
5. 다만, 순열에서 0 하고 1만 하나의 요소로 있는 경우 소수가 아니기 때문에 제외하고, 순열이 2인 경우와 그외에 소수값은 결과 리스트에 저장한다.

# ✏️ **풀이 코드**

```python
from itertools import permutations

def solution(numbers):
    num = [ch for ch in numbers] 
    ans = []
    per = []
    
    for i in range(1, len(num) + 1): 
        per+= list(permutations(num, i)) 
    lst = [int(("").join(p)) for p in per] 
    
    for n in lst:                            
        if n < 2:       
            continue
        if n == 2:
            ans.append(n)
        check = True           
        for i in range(2,int(n**0.5) + 1): 
            if n % i == 0:               
                check = False
                break
        if check: 
            ans.append(n)                      

    return len(set(ans)) 
```

## 📋 주요 코드 설명

for i in range(2,int(n**0.5) + 1):

---

코드에서 “**”은 제곱을 의미하고, “**0.5”는 **제곱근**을 의미한다.

for문 범위를 2부터 n의 제곱근 까지 한 이유는 만약 n이 어떤 수로 나누어 떨어진다면, 그 약수 중 하나는 반드시 n의 제곱근 이하입니다. 따라서 n의 제곱근까지만 나누어 보면 n이 소수인지 판별할 수 있다.

ex/ 36의 약수는 (**1**, 36), (**2**, 18), (**3**, 12), (**4**, 9), (**6**, 6)입니다. 여기서 작은 약수들이 제곱근 이하에 속한다.

return len(set(ans))

---

주어진 문자열에서 같은 숫자가 포함될 수 있기 때문에, 중복된 숫자를 제거하기 위해 집합(set)으로 변환한 후, 고유한 숫자의 개수를 반환한다.

ex/ numbers = "112”로 주어진 경우 (permutations(num, 1)인 경우 (1,),(1,)(2,)로 겹치게 된다.

# 📝 새로 알게된 것

✅ itertools.permutations 함수로 생성된 순열(tuple)들의 리스트이다. 그래서 결과값이 튜플에 저장된다.

✅ "**순열**"은 수학적으로는 특정 집합의 원소들을 순서를 고려하여 나열하는 것을 말합니다. 일반적으로 순열은 집합의 모든 원소를 포함하고 순서에 따라 나열하는 모든 경우의 수를 의미합니다.

✅ 어떠한 값이 소수인지 확인할 때 2~값에 제곱근까지 나누었을 때 나누어지지 않는다면 소수다. 단, 2도 소수이기 때문에 값이 2일 경우는 따로 예외 처리를 해줘야 한다.

✅ python의 tuple은 항상 쉼표로 구분되며, tuple이 단일 요소를 포함하는 경우에도 쉼표가 포함된다.
