# 더 맵게[lv2]

### 🌐 문제 링크:

https://school.programmers.co.kr/learn/courses/30/lessons/42626

# 💻 문제 설명

- 
    
    매운 것을 좋아하는 Leo는 모든 음식의 스코빌 지수를 K 이상으로 만들고 싶습니다. 모든 음식의 스코빌 지수를 K 이상으로 만들기 위해 Leo는 스코빌 지수가 **가장 낮은 두 개**의 음식을 아래와 같이 특별한 방법으로 섞어 새로운 음식을 만듭니다.
    
    <aside>
    ✅
    
    **섞은 음식의 스코빌 지수 = 가장 맵지 않은 음식의 스코빌 지수 + (두 번째로 맵지 않은 음식의 스코빌 지수 * 2)**
    
    </aside>
    
    Leo는 모든 음식의 스코빌 지수가 K 이상이 될 때까지 반복하여 섞습니다.
    
    Leo가 가진 음식의 스코빌 지수를 담은 배열 scoville과 원하는 스코빌 지수 K가 주어질 때, 모든 음식의 스코빌 지수를 K 이상으로 만들기 위해 섞어야 하는 최소 횟수를 return 하도록 solution 함수를 작성해주세요.
    
    ### 제한 사항
    
    - scoville의 길이는 2 이상 1,000,000 이하입니다.
    - K는 0 이상 1,000,000,000 이하입니다.
    - scoville의 원소는 각각 0 이상 1,000,000 이하입니다.
    - 모든 음식의 스코빌 지수를 K 이상으로 만들 수 없는 경우에는 -1을 return 합니다.

# **💡 풀이 과정**

## 문제 접근

목표는 **모든 음식의 스코빌 지수가 K 이상이 될 때까지**, **가장 작은 두 값**을 선택하여 새로운 음식을 만들어야 한다.  이 과정에서 매번 두 개의 최소값을 찾아야 하는데, 정렬을 사용한다면 N log N의 시간복잡도가 걸리기 때문에 입력값이 높아질수록 비 효율적이다. 그래서 이렇게 배열 요소의 최대값과 최소값을 접근하는 문제라면 **힙**을 사용하는 것이 효울적이다.(힙의 요소 추가나 삭제 시간복잡도가 log2 N 이다.)

![Image](https://github.com/user-attachments/assets/8cecf133-98f8-44b6-a9ee-9c127928b746)

힙은 **최소 힙이 기본적으로 제공**되고, **루트 노드에 항상 가장 작은 값이 위치**하게 되어,가장 작은 값을 빠르게 추출할 수 있습니다. 

이를 활용하여, 첫 번째 음식 스코빌 지수(루트 노드의 값)가 K 미만인 경우, 두 개의 최소값을 선택하고 새로운 음식을 만들어 다시 힙에 추가하는 과정을 반복한다. 이때 힙에서 루트 노드 값에 접근하여 두 개의 최소값을 꺼내고, 새로운 값(섞은 음식)을 로 다시 삽입하면서 접근하면 된다.

이렇게 과정을 반복할 때 마다 실행한 횟수를 증가시키고, 만약 음식이 한개가 되어 음식을 섞을 수 없을 경우에는 문제에 요구사항에 따라 -1을 반환한다.

## 코드 접근

```python
heapq.heaify()
# 리스트를 힙 구조(최소 힙)로 변환합니다. (O(N))
heapq.heappush()
# 힙에 새로운 요소를 추가하며 힙 속성을 유지합니다. (O (logN))
heapq.heappop()
# 힙에서 가장 작은 값(루트 노드)을 제거하고 반환하며, 힙 속성을 유지합니다. (O (logN))
```

# ✏️ **풀이 코드**

```python
import heapq

def solution(scoville, K):
    count = 0
    heapq.heapify(scoville) # 최소힙으로 변환
    
    while scoville[0] < K:
        if len(scoville) < 2:
            return -1
        
        first = heapq.heappop(scoville)
        second = heapq.heappop(scoville)
        new_scoville = first + (second * 2)
        heapq.heappush(scoville, new_scoville)
        count += 1
        
    return count
```
